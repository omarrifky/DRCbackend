[1:06 PM, 8/8/2018] Mohamed Gabry: package com.example.demo;

import java.util.ArrayList;

public class Employee {
	String username ;
	String Name;
	int Userpassword;
	int NumberOfAnnualVacations;
	int NumberOfCasualVacations;
	String Gender ;
	String Email ;
	String Address;
	String Nationality;
	String SocialStatus; 
	int NumberOfDependencies;
	String EmployeeID;
	String University;
	String Degree;
	String FieldStudy;
	String CarrierLevel;
	String Interest;
	int YearsOfExperience;
	String JobTitle; 
	String AboveManagerusername;
	int Adminbit;
	int BasicSalary;
	int Allowance; 
	int Active;
	int Mobile;
	String MilitaryService;
	String DeviceId;
	String DeviceType;
	ArrayList <EmployeeSkills> Skills;
	ArrayList<EmployeeEducation> Education ;
	
	
	public Employee(){
		
		this.Skills= new ArrayList <EmployeeSkills>();
		this.Education= new ArrayList<EmployeeEducation>();
	}
	
	
	
	
	public ArrayList<EmployeeSkills> getSkills() {
		return Skills;
	}




	public void setSkills(ArrayList<EmployeeSkills> skills) {
		Skills = skills;
	}




	public String getUsername() {
		return username;
	}

	public void setUsername(String username) {
		this.username = username;
	}

	public String getName() {
		return Name;
	}

	public void setName(String name) {
		Name = name;
	}

	public int getUserpassword() {
		return Userpassword;
	}

	public void setUserpassword(int userpassword) {
		Userpassword = userpassword;
	}

	public int getNumberOfAnnualVacations() {
		return NumberOfAnnualVacations;
	}

	public void setNumberOfAnnualVacations(int numberOfAnnualVacations) {
		NumberOfAnnualVacations = numberOfAnnualVacations;
	}

	public int getNumberOfCasualVacations() {
		return NumberOfCasualVacations;
	}

	public void setNumberOfCasualVacations(int numberOfCasualVacations) {
		NumberOfCasualVacations = numberOfCasualVacations;
	}

	public String getGender() {
		return Gender;
	}

	public void setGender(String gender) {
		Gender = gender;
	}

	public String getEmail() {
		return Email;
	}

	public void setEmail(String email) {
		Email = email;
	}

	public String getAddress() {
		return Address;
	}

	public void setAddress(String address) {
		Address = address;
	}

	public String getNationality() {
		return Nationality;
	}

	public void setNationality(String nationality) {
		Nationality = nationality;
	}

	public String getSocialStatus() {
		return SocialStatus;
	}

	public void setSocialStatus(String socialStatus) {
		SocialStatus = socialStatus;
	}

	public int getNumberOfDependencies() {
		return NumberOfDependencies;
	}

	public void setNumberOfDependencies(int numberOfDependencies) {
		NumberOfDependencies = numberOfDependencies;
	}

	public String getEmployeeID() {
		return EmployeeID;
	}

	public void setEmployeeID(String employeeID) {
		EmployeeID = employeeID;
	}

	public String getUniversity() {
		return University;
	}

	public void setUniversity(String university) {
		University = university;
	}

	public String getDegree() {
		return Degree;
	}

	public void setDegree(String degree) {
		Degree = degree;
	}

	public String getFieldStudy() {
		return FieldStudy;
…
[3:26 PM, 8/8/2018] Mohamed Gabry: use mydb;
 
 
 ALTER TABLE EmployeeSkills
ADD COLUMN yearsOfExperince INT NOT NULL;

INSERT INTO EmployeeSkills(Employeeusername,Skill,Profeciency,Interest)Values ('mohamedelgabry', 'sql coding',5,4);
INSERT INTO EmployeeSkills(Employeeusername,Skill,Profeciency,Interest)Values ('mohamedelgabry', 'speaking german',3,4.5);
INSERT INTO EmployeeSkills(Employeeusername,Skill,Profeciency,Interest,yearsOfExperince)Values ('mohamedelgabry', 'oop',5,4,3);

delimiter //

create procedure AddSkill ( p_username varchar(50),p_skill varchar(500),p_Profeciency int,p_Interest int,p_yearsofexp int )
begin
insert into EmployeeSkills(Employeeusername,Skill,Profeciency,Interest,yearsOfExperince)values(p_username,p_skill,p_Profeciency,p_Interest,p_yearsofexp);
-- ---------------------------------------------
-- --Add Previous Jobs

END;
//

DELIMITER 


CREATE TABLE EmployeeEducation
(
	`Employeeusername` varchar(50) NOT NULL, 
	`school` VARCHAR(500) NULL,
    `fieldOfStudy` VARCHAR(500) NULL,
	 `degree` VARCHAR(500) NULL,
      `grade` VARCHAR(50) NULL,
       `activities` VARCHAR(500) NULL,
	FOREIGN key(Employeeusername) REFERENCES Employee(username) ON DELETE CASCADE  ON UPDATE CASCADE
);


delimiter //

create procedure AddEducation ( p_username varchar(50),p_school  varchar(500),p_fieldOfStudy varchar(500),p_degree  varchar(500) ,p_grade varchar(50),p_activities varchar(500) )
begin
insert into EmployeeEducation( Employeeusername ,school  ,fieldOfStudy ,degree  ,grade ,activities )
values(p_username ,p_school ,p_fieldOfStudy ,p_degree   ,p_grade ,p_activities );
-- ---------------------------------------------

END;
//

DELIMITER 

insert into EmployeeEducation (Employeeusername ,school ,fieldOfStudy ,degree   ,grade ,activities ) 
values( 'mohamedelgabry' ,'boston universtiy  ' , 'artificial intelligence' ,'robtiocs and AI engineering'  ,'b+' ,'worked with apple on updating siri' ) ;

insert into EmployeeEducation (Employeeusername ,school ,fieldOfStudy ,degree   ,grade ,activities ) 
values( 'mohamedelgabry' ,'german universtiy in cairo  ' , 'computer science ' ,'computer science and engineering '  ,'b+' ,'app devi' ) ;



CREATE TABLE EmployeeLanguage
(
	`Employeeusername` varchar(50) NOT NULL, 
	`Language` VARCHAR(50) NULL,
    `Reading` INT NOT NULL,
	 `Writing` INT NOT NULL ,
      `Listening` INT NOT NULL,      
     `Speaking` INT NOT NULL,
     `Jusification` VARCHAR(500),
      
	FOREIGN key(Employeeusername) REFERENCES Employee(username) ON DELETE CASCADE  ON UPDATE CASCADE
);

delimiter //

create procedure AddLanguage (p_employeeusername varchar(50) , p_Language VARCHAR(50) ,p_Reading INT ,p_Writing INT,p_Listening INT ,     p_Speaking INT, p_Jusification VARCHAR(500) )
begin
insert into EmployeeLanguage (Employeeusername , Language,Reading, Writing, Listening, Speaking,Jusification) 
values(  p_employeeusername , p_Language  ,p_Reading  ,p_Writing ,p_Listening  ,     p_Speaking , p_Jusification  ) ;

-- ---------------------------------------------

END;
//

DELIMITER 



insert into EmployeeLanguage (Employeeusername , Language,Reading, Writing, Listening, Speaking,Jusification) 
values( 'mohamedelgabry' ,'german  ' , 5,3.5,4, 3.8 ,'studied german in the universtiy' ) ;


insert into EmployeeLanguage (Employeeusername , Language,Reading, Writing, Listening, Speaking,Jusification) 
values( 'mohamedelgabry' ,'english  ' , 5,4, 4 ,4,'studied englsih for 12 years in the school ' ) ;
[3:26 PM, 8/8/2018] Mohamed Gabry: @CrossOrigin(origins = "*")
	@PostMapping(value = "/ViewMyInfo")
	public ResponseEntity ViewMyInfo(@RequestBody String userStr) throws JSONException {
		String username;
		String password;

		JSONObject user = new JSONObject(userStr);
		username = user.getString("username");

		username.replace("@three2one.net", "");
		// password= user.get("password").toString();

		try {
			username = user.getString("username");

			String newusername = username.replaceAll("@three2one.net", "").toString();
			if (username != null) {
				String query = "Select * from Employee  E where E.username ='" + newusername + "'";
				
				String query2="Select * from EmployeeSkills  ES where ES.Employeeusername ='" + newusername + "'";
				
				String query3 = "Select * from EmployeeEducation  ES where ES.Employeeusername ='" + newusername + "'";
				
				String query4 = "Select * from EmployeeLanguage  ES where ES.Employeeusername ='" + newusername + "'";
				
				
				Connection myConn = DriverManager.getConnection("jdbc:mysql://localhost:3306/mydb?useSSL=false", "root",
						"cs12345678");

				CallableStatement cs;
				CallableStatement cs2;
				
				Statement myStmt = myConn.createStatement();
				Statement myStmt2 = myConn.createStatement();
				Statement myStmt3 = myConn.createStatement();
				Statement myStmt4 = myConn.createStatement();
				
				
				ResultSet info = myStmt.executeQuery(query);
				ResultSet skills = myStmt2.executeQuery(query2);
				ResultSet Education = myStmt3.executeQuery(query3);
				ResultSet Languages = myStmt4.executeQuery(query4);
				
				
				Employee e =new Employee();

				while (info.next()) {

					
					e.setName(info.getString(2));
					e.setUserpassword(info.getInt(3));
					e.setNumberOfAnnualVacations(info.getInt(4));
					e.setNumberOfCasualVacations(info.getInt(5));
					e.setGender(info.getString(6));
					e.setEmail(info.getString(7));
					e.setAddress(info.getString(8));
					e.setNationality(info.getString(9));
					e.setSocialStatus(info.getString(10));
					e.setNumberOfDependencies(info.getInt(11));
					e.setEmployeeID(info.getString(12));
					e.setUniversity(info.getString(13));
					e.setDegree(info.getString(14));
					e.setFieldStudy(info.getString(15));
					e.setCarrierLevel(info.getString(16));
					e.setInterest(info.getString(17));
					e.setYearsOfExperience(info.getInt(18));
					e.setJobTitle(info.getString(19));
					e.setAboveManagerusername(info.getString(20));
					e.setAdminbit(info.getInt(21));
					e.setBasicSalary(info.getInt(22));
					e.setAllowance(info.getInt(23));
					e.setActive(info.getInt(24));
					e.setMobile(info.getInt(25));
					e.setMilitaryService(info.getString(26));
					
					break;

				}

				while(skills.next()) {
					
					e.getSkills().add(new EmployeeSkills( skills.getString(2),skills.getString(3),skills.getString(4),skills.getString(5)));
				}
				
				
				while(Education.next())
				{
					e.getEducation().add(new EmployeeEducation( Education.getString(2),Education.getString(3),Education.getString(4),Education.getString(5),Education.getString(6)));
				}

				while(Languages.next())
				{
					e.getLanguages().add(new EmployeeLanguages( Languages.getString(2),Languages.getString(3),Languages.getString(4),Languages.getString(5),Languages.getString(6),Languages.getString(7)));
				}
				
				
				return new ResponseEntity(e, HttpStatus.OK);

			}

		} catch (Exception exc) {
			exc.printStackTrace();
		}
		return new ResponseEntity(false, HttpStatus.OK);
	}
[3:27 PM, 8/8/2018] Mohamed Gabry: package com.example.demo;

import java.util.ArrayList;

public class Employee {
	String username ;
	String Name;
	int Userpassword;
	int NumberOfAnnualVacations;
	int NumberOfCasualVacations;
	String Gender ;
	String Email ;
	String Address;
	String Nationality;
	String SocialStatus; 
	int NumberOfDependencies;
	String EmployeeID;
	String University;
	String Degree;
	String FieldStudy;
	String CarrierLevel;
	String Interest;
	int YearsOfExperience;
	String JobTitle; 
	String AboveManagerusername;
	int Adminbit;
	int BasicSalary;
	int Allowance; 
	int Active;
	int Mobile;
	String MilitaryService;
	String DeviceId;
	String DeviceType;
	ArrayList <EmployeeSkills> Skills;
	ArrayList<EmployeeEducation> Education ;
	ArrayList<EmployeeLanguages> Languages ;
	
	
	public Employee(){
		
		this.Skills= new ArrayList <EmployeeSkills>();
		this.Education= new ArrayList<EmployeeEducation>();
		this.Languages= new ArrayList<EmployeeLanguages>();
	}
	
	
	
	
	public ArrayList<EmployeeSkills> getSkills() {
		return Skills;
	}




	public void setSkills(ArrayList<EmployeeSkills> skills) {
		Skills = skills;
	}




	public String getUsername() {
		return username;
	}

	public void setUsername(String username) {
		this.username = username;
	}

	public String getName() {
		return Name;
	}

	public void setName(String name) {
		Name = name;
	}

	public int getUserpassword() {
		return Userpassword;
	}

	public void setUserpassword(int userpassword) {
		Userpassword = userpassword;
	}

	public int getNumberOfAnnualVacations() {
		return NumberOfAnnualVacations;
	}

	public void setNumberOfAnnualVacations(int numberOfAnnualVacations) {
		NumberOfAnnualVacations = numberOfAnnualVacations;
	}

	public int getNumberOfCasualVacations() {
		return NumberOfCasualVacations;
	}

	public void setNumberOfCasualVacations(int numberOfCasualVacations) {
		NumberOfCasualVacations = numberOfCasualVacations;
	}

	public String getGender() {
		return Gender;
	}

	public void setGender(String gender) {
		Gender = gender;
	}

	public String getEmail() {
		return Email;
	}

	public void setEmail(String email) {
		Email = email;
	}

	public String getAddress() {
		return Address;
	}

	public void setAddress(String address) {
		Address = address;
	}

	public String getNationality() {
		return Nationality;
	}

	public void setNationality(String nationality) {
		Nationality = nationality;
	}

	public String getSocialStatus() {
		return SocialStatus;
	}

	public void setSocialStatus(String socialStatus) {
		SocialStatus = socialStatus;
	}

	public int getNumberOfDependencies() {
		return NumberOfDependencies;
	}

	public void setNumberOfDependencies(int numberOfDependencies) {
		NumberOfDependencies = numberOfDependencies;
	}

	public String getEmployeeID() {
		return EmployeeID;
	}

	public void setEmployeeID(String employeeID) {
		EmployeeID = employeeID;
	}

	public String getUniversity() {
		return University;
	}

	public void setUniversity(String university) {
		University = university;
	}

	public String getDegree() {
		return Degree;
	}

	public void setDegree(String degree) {
		Degree = degree;
	}

	public String getFieldStudy() {
		return FieldStudy;
	}

	public void setFieldStudy(String fieldStudy) {
		FieldStudy = fieldStudy;
	}

	public String getCarrierLevel() {
		return CarrierLevel;
	}

	public void setCarrierLevel(String carrierLevel) {
		CarrierLevel = carrierLevel;
	}

	public String getInterest() {
		return Interest;
	}

	public void setInterest(String interest) {
		Interest = interest;
	}

	public int getYearsOfExperience() {
		return YearsOfExperience;
	}

	public void setYearsOfExperience(int yearsOfExperience) {
		YearsOfExperience = yearsOfExperience;
	}

	public String getJobTitle() {
		return JobTitle;
	}

	public void setJobTitle(String jobTitle) {
		JobTitle = jobTitle;
	}

	public String getAboveManagerusername() {
		return AboveManagerusername;
	}

	public void setAboveManagerusername(String aboveManagerusername) {
		AboveManagerusername = aboveManagerusername;
	}

	public int getAdminbit() {
		return Adminbit;
	}

	public void setAdminbit(int adminbit) {
		Adminbit = adminbit;
	}

	public int getBasicSalary() {
		return BasicSalary;
	}

	public void setBasicSalary(int basicSalary) {
		BasicSalary = basicSalary;
	}

	public int getAllowance() {
		return Allowance;
	}

	public void setAllowance(int allowance) {
		Allowance = allowance;
	}

	public int getActive() {
		return Active;
	}

	public void setActive(int active) {
		Active = active;
	}

	public int getMobile() {
		return Mobile;
	}

	public void setMobile(int mobile) {
		Mobile = mobile;
	}

	public String getMilitaryService() {
		return MilitaryService;
	}

	public void setMilitaryService(String militaryService) {
		MilitaryService = militaryService;
	}

	public String getDeviceId() {
		return DeviceId;
	}

	public void setDeviceId(String deviceId) {
		DeviceId = deviceId;
	}

	public String getDeviceType() {
		return DeviceType;
	}

	public void setDeviceType(String deviceType) {
		DeviceType = deviceType;
	}




	public ArrayList<EmployeeEducation> getEducation() {
		return Education;
	}




	public void setEducation(ArrayList<EmployeeEducation> education) {
		Education = education;
	}




	public ArrayList<EmployeeLanguages> getLanguages() {
		return Languages;
	}




	public void setLanguages(ArrayList<EmployeeLanguages> languages) {
		Languages = languages;
	}




	

	
	

	
}